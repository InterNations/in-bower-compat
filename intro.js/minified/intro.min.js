(function(m,f){"object"===typeof exports?f(exports):"function"===typeof define&&define.amd?define(["exports"],f):f(m)})(this,function(m){function f(a){this._targetElement=a;this._options={overlayOpacity:0.5,highlightPadding:10,nextButton:".introjs-next",prevButton:".introjs-prev",skipButton:".introjs-skip",stepIdentifier:"*",exitOnOverlayClick:!0,disableInteraction:!1}}function u(a){var c=a.getAttribute("data-intro-padding")||this._options.highlightPadding;return{element:this._targetElement.querySelector(a.getAttribute("data-intro-element")),
content:q(a),step:parseInt(a.getAttribute("data-intro-step"),10),scrollTo:parseInt(a.getAttribute("data-intro-scroll-to"),10),highlightPadding:parseInt(c,10)}}function v(a){return{element:this._targetElement.querySelector(a.element),content:q(this._targetElement.querySelector(a.template)),step:a.step,scrollTo:a.scrollTo||null,highlightPadding:a.highlightPadding||this._options.highlightPadding}}function q(a){var c=document.createElement("div");c.appendChild(a.cloneNode(!0));return c.innerHTML}function l(){"undefined"===
typeof this._currentStep?this._currentStep=0:++this._currentStep;if(this._introItems.length<=this._currentStep)"function"===typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),k.call(this,this._targetElement);else{var a=this._introItems[this._currentStep];r.call(this,a.element,a.content,a.scrollTo,a.highlightPadding)}}function s(){if(0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];r.call(this,a.element,a.content,a.scrollTo,a.highlightPadding)}function k(a){var c=
a.querySelector(".introjs-overlay");c.style.opacity=0;setTimeout(function(){c.parentNode&&c.parentNode.removeChild(c)},500);(a=a.querySelector(".introjs-helperLayer"))&&a.parentNode.removeChild(a);if(a=document.querySelector(".introjs-showElement"))a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown);this._currentStep=
void 0;void 0!==this._introExitCallback&&this._introExitCallback.call(this)}function r(a,c,g,b){var e;"undefined"!==typeof this._introChangeCallback&&this._introChangeCallback.call(this,a,c);var f=document.querySelector(".introjs-helperLayer"),d=n(a);null!=f?(f.innerHTML="",f.setAttribute("style","width: "+(d.width+2*b)+"px; height:"+(d.height+2*b)+"px; top:"+(d.top-b)+"px;left: "+(d.left-b)+"px;"),d=document.querySelector(".introjs-showElement"),d.className=d.className.replace(/introjs-[a-zA-Z]+/g,
"").replace(/^\s+|\s+$/g,""),this._lastShowElementTimer&&clearTimeout(this._lastShowElementTimer),this._lastShowElementTimer=setTimeout(function(){f.innerHTML=c;t.call(this,f)}.bind(this),350)):(e=document.createElement("div"),e.className="introjs-helperLayer",e.setAttribute("style","width: "+(d.width+2*b)+"px; height:"+(d.height+2*b)+"px; top:"+(d.top-b)+"px;left: "+(d.left-b)+"px;"),this._targetElement.appendChild(e),e.innerHTML=c,t.call(this,e));!0===this._options.disableInteraction&&(d=document.querySelector(".introjs-disableInteraction"),
null===d&&(d=document.createElement("div"),d.className="introjs-disableInteraction",this._targetElement.appendChild(d)),e=n(a),d.setAttribute("style","width: "+(e.width+2*b)+"px; height:"+(e.height+2*b)+"px; top:"+(e.top-b)+"px;left: "+(e.left-b)+"px;"));a.className+=" introjs-showElement";b="";a.currentStyle?b=a.currentStyle.position:document.defaultView&&document.defaultView.getComputedStyle&&(b=document.defaultView.getComputedStyle(a,null).getPropertyValue("position"));b=b.toLowerCase();"absolute"!==
b&&"relative"!==b&&(a.className+=" introjs-relativePosition");d=a.getBoundingClientRect();b=d.bottom-(d.bottom-d.top);var j=d.bottom;e=void 0!==window.innerWidth?window.innerHeight:document.documentElement.clientHeight;e=j-e;g||0===g?window.scrollBy(0,d.top-g):(a=a.getBoundingClientRect(),0<=a.top&&0<=a.left&&a.bottom+80<=window.innerHeight&&a.right<=window.innerWidth||(0>e?window.scrollBy(0,e+100):window.scrollBy(0,b-30)))}function t(a){var c=this,g=a.querySelector(this._options.nextButton),b=a.querySelector(this._options.prevButton);
a=a.querySelector(this._options.skipButton);g&&(g.onclick=function(){l.call(c)});b&&(b.onclick=function(){s.call(c)});a&&(a.href="javascript:void(0);",a.onclick=function(){k.call(c,c._targetElement)})}function n(a){var c={};c.width=a.offsetWidth;c.height=a.offsetHeight;for(var g=0,b=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)g+=a.offsetLeft,b+=a.offsetTop,a=a.offsetParent;c.top=b;c.left=g;return c}var p=function(a){if("object"===typeof a)return new f(a);if("string"===typeof a){if(a=document.querySelector(a))return new f(a);
throw Error("There is no element with given selector.");}return new f(document.body)};p.version="0.3.0";p.fn=f.prototype={clone:function(){return new f(this)},setOption:function(a,c){this._options[a]=c;return this},setOptions:function(a){var c=this._options,g={},b;for(b in c)g[b]=c[b];for(b in a)g[b]=a[b];this._options=g;return this},start:function(){var a=this._targetElement,c=[],g=this,b,e,f,d;this._options.steps?(e=this._options.steps,d=v.bind(this)):(e=a.querySelectorAll(this._options.stepIdentifier+
"[data-intro-step]"),d=u.bind(this));if(0!==e.length){for(b=0;b<e.length;b++)f=d(e[b]),c.push(f);c.sort(function(a,b){return a.step-b.step});this._introItems=c;var j=document.createElement("div"),h="";j.className="introjs-overlay";if("body"===a.tagName.toLowerCase())h+="top: 0; bottom: 0; left: 0; right: 0; position: fixed;",j.setAttribute("style",h);else if(c=n(a))h+="width: "+c.width+"px; height:"+c.height+"px; top:"+c.top+"px; left: "+c.left+"px;",j.setAttribute("style",h);a.appendChild(j);this._options.exitOnOverlayClick&&
(j.onclick=function(){k.call(this,a)}.bind(this));setTimeout(function(){h+="opacity: "+this._options.overlayOpacity+";";j.setAttribute("style",h)}.bind(this),10);l.call(this);this._onKeyDown=function(b){27===b.keyCode?k.call(g,a):37===b.keyCode?s.call(g):(39===b.keyCode||13===b.keyCode)&&l.call(g)};window.addEventListener?window.addEventListener("keydown",this._onKeyDown,!0):document.attachEvent&&document.attachEvent("onkeydown",this._onKeyDown)}return this},goToStep:function(a){this._currentStep=
a-2;"undefined"!==typeof this._introItems&&l.call(this);return this},exit:function(){k.call(this,this._targetElement)},onchange:function(a){if("function"===typeof a)this._introChangeCallback=a;else throw Error("Provided callback for onchange was not a function.");return this},oncomplete:function(a){if("function"===typeof a)this._introCompleteCallback=a;else throw Error("Provided callback for oncomplete was not a function.");return this},onexit:function(a){if("function"===typeof a)this._introExitCallback=
a;else throw Error("Provided callback for onexit was not a function.");return this}};return m.introJs=p});
